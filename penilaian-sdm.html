<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modul Penilaian Mandiri – Kategori SDM</title>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f8fafc;
      color: #1f2937;
      margin: 0;
      padding: 2rem;
    }
    h1, h2 {
      color: #0d9488;
    }
    .question-block {
      background: white;
      border-radius: 8px;
      padding: 1rem 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }
    .question-block h3 {
      margin-bottom: 0.75rem;
      font-size: 1.1rem;
    }
    .question-block label {
      display: block;
      margin: 0.5rem 0;
    }
    select {
      padding: 0.4rem 0.6rem;
      border-radius: 6px;
      border: 1px solid #ccc;
      width: 100%;
      max-width: 400px;
    }
    .results {
      margin-top: 2rem;
      padding: 1.5rem;
      border-radius: 10px;
      background: #f0fdfa;
      border-left: 6px solid #0d9488;
    }
    .results h3 {
      margin-bottom: 1rem;
    }
    .indicator-bar {
      height: 20px;
      border-radius: 10px;
      background: #e5e7eb;
      overflow: hidden;
      margin-bottom: 1rem;
    }
    .indicator-fill {
      height: 100%;
      width: 0;
      transition: width 0.5s ease;
    }
    .green { background-color: #10b981; }
    .yellow { background-color: #facc15; }
    .red { background-color: #ef4444; }
    button {
      background: #0d9488;
      color: white;
      border: none;
      border-radius: 6px;
      padding: 0.6rem 1rem;
      font-weight: bold;
      cursor: pointer;
      margin-top: 1rem;
    }
  </style>
</head>
<body>

  <h1>Modul Penilaian Mandiri</h1>
  <h2>Kategori: SDM (Sumber Daya Manusia)</h2>

  <form id="sdmForm">
    <div class="question-block">
      <h3>1. Apakah semua staf/relawan inti sudah divaksin lengkap?</h3>
      <label><select name="q1">
        <option value="3">Ya, semua</option>
        <option value="2">Sebagian besar</option>
        <option value="1">Sebagian kecil</option>
        <option value="0">Tidak tahu / Tidak ada</option>
      </select></label>
    </div>

    <div class="question-block">
      <h3>2. Berapa persen staf yang terlatih dalam P3K dan protokol pandemi?</h3>
      <label><select name="q2">
        <option value="3">Lebih dari 75%</option>
        <option value="2">50–75%</option>
        <option value="1">25–49%</option>
        <option value="0">Kurang dari 25% / Tidak ada</option>
      </select></label>
    </div>

    <div class="question-block">
      <h3>3. Apakah ada sistem shift untuk mengurangi risiko penularan?</h3>
      <label><select name="q3">
        <option value="3">Ya, terstruktur dan aktif</option>
        <option value="2">Ada, tapi tidak selalu dijalankan</option>
        <option value="1">Hanya sesekali</option>
        <option value="0">Tidak ada</option>
      </select></label>
    </div>

    <button type="button" onclick="hitungSkor()">Hitung Skor SDM</button>
  </form>

  <div class="results" id="hasil" style="display:none;">
    <h3>Hasil Penilaian SDM</h3>
    <div class="indicator-bar"><div class="indicator-fill" id="skorSDM"></div></div>
    <p id="rekomendasi"></p>
  </div>

  <script>
    function hitungSkor() {
      const form = document.forms['sdmForm'];
      let total = 0;
      let max = 9;
      for (let i = 1; i <= 3; i++) {
        total += parseInt(form[`q${i}`].value);
      }

      let persen = Math.round((total / max) * 100);
      let warna = '';
      let rekom = '';

      if (persen >= 80) {
        warna = 'green';
        rekom = "SDM Anda sangat siap menghadapi pandemi. Pertahankan dan lakukan pelatihan berkala.";
      } else if (persen >= 50) {
        warna = 'yellow';
        rekom = "Kesiapan SDM cukup baik, tapi perlu ditingkatkan melalui pelatihan dan SOP kerja aman.";
      } else {
        warna = 'red';
        rekom = "Kesiapan SDM rendah. Segera rancang sistem shift, pelatihan, dan vaksinasi staf.";
      }

      const bar = document.getElementById("skorSDM");
      bar.className = `indicator-fill ${warna}`;
      bar.style.width = persen + "%";

      document.getElementById("rekomendasi").textContent = rekom;
      document.getElementById("hasil").style.display = "block";
    }
  </script>

</body>
</html>
